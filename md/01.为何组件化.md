#### 目录介绍
- 01.为何组件化
- 02.现阶段遇到的问题
- 03.代码是怎么膨胀



https://juejin.im/post/6881116198889586701



### 01.为何组件化
- APP迭代维护成本增高
    - 投资界，新芽，项目工厂等APP自身在飞速发展，版本不断迭代，新功能不断增加，业务模块数量不断增加，业务上的处理逻辑越变越复杂，同时每个模块代码也变得越来越多，这就引发一个问题，所维护的代码成本越来越高，稍微一改动可能就牵一发而动全身，改个小的功能点就需要回归整个APP测试，这就对开发和维护带来很大的挑战。
- 多人组合需要组件化
    - APP 架构方式是单一工程模式，业务规模扩大，随之带来的是团队规模扩大，那就涉及到多人协作问题，每个移动端软件开发人员势必要熟悉如此之多代码，如果不按照一定的模块组件机制去划分，将很难进行多人协作开发。
    - 随着单一项目变大，而且Andorid项目在编译代码方面就会变得非常卡顿，在单一工程代码耦合严重，每修改一处代码后都需要重新编译打包测试，导致非常耗时。



### 02.现阶段遇到的问题
- 结合投资界，新芽客户端分析
    - 代码量膨胀，不利于维护，不利于新功能的开发。项目工程构建速度慢，在一些电脑上写两句代码，重新编译整个项目，测试的话编译速度起码 10-20 分钟，有的甚至更长。
    - 不同模块之间代码耦合严重，有时候修改一处代码而牵动许多模块。每个模块之间都有引用第三方库，但有些第三方库版本不一致，导致打包APP时候代码冗余，容易引起版本冲突。
    - 现有项目基于以前其他人项目基础上开发，经手的人次过多，存在着不同的代码风格，项目中代码规范乱，类似的功能写法却不一样，导致不统一。



### 03.代码是怎么膨胀
- 使用Event事件总线
    - 之前的架构中，我们大量适用Event事件总线作为模块间通信的方式，也基本是唯一的方式。
    - 使用Event作为通信的媒介，自然要有定义它的地方，好让模块之间都能知道Event结构是怎样的。
    - 这时候基础工程好像就成了存放Event的唯一选择——Event定义被放在基础工程中；接着，遇到某个模块A想使用模块B的数据结构类，怎么办？把类下沉到基础工程；遇到模块A想用模块B的某个接口返回个数据，Event好像不太适合？那就把代码下沉到基础工程吧……










