#### 目录介绍
- 01.整体概述
    - 1.1 项目背景
    - 1.2 遇到问题
    - 1.3 基础概念介绍
    - 1.4 设计目标
    - 1.5 产生收益分析
- 02.网络库技术点
    - 2.1 网络请求流程
    - 2.2 常见网络请求
    - 2.3 域名解析过程
    - 2.4 常见GET请求
    - 2.5 常见POST请求
    - 2.6
    - 2.8 
- 03.网络库封装设计
    - 3.1 网络库设计思路
    - 3.7 添加公共参数
- 04.网络封装技术点
    - 4.4 网络日志打印
    - 4.5 网络数据加解密
    - 4.6 HTTPS证书校验
- 05.方案基础设计
    - 5.1 整体架构图
    - 5.2 UML设计图
    - 5.3 关键流程图
    - 5.4 接口设计图
    - 5.5 模块间依赖关系
- 06.其他设计说明
    - 6.1 性能设计
    - 6.2 稳定性设计
    - 6.3 灰度设计
    - 6.4 降级设计
    - 6.5 异常设计
    - 6.6 兼容性设计
- 07.其他说明介绍
    - 7.1 参考链接



### 01.整体概述
#### 1.1 项目背景


#### 1.2 遇到问题


#### 1.3 基础概念介绍


#### 1.4 设计目标


#### 1.5 产生收益分析


### 02.网络库技术点
#### 2.1 网络请求流程


#### 2.2 常见网络请求
- 同步请求和异步请求。
    ```
    //同步
    Response response = okHttpClient.newCall(request).execute();
    //异步
    okHttpClient.newCall(request).enqueue(callback);
    ```




### 03.网络库封装设计
#### 3.1 网络库设计思路


#### 3.7 添加公共参数
- 如何添加公共参数？



### 04.网络封装技术点
#### 4.4 网络日志打印
- 如何打印日志
    - OkHttp提供了一个拦截器接口，使得在打印日志时极为方便，并且对接口代码无入侵性。
- 适当地添加日志拦截器
    - 打印日志一般都是在debug的时候才需要，对于release即发布出去的版本，是不需要打印请求的日志的。



#### 4.5 网络数据加解密
- 网络数据加密的需求
    - 为了项目数据安全性，对请求体和响应体加密，那肯定要知道请求体或响应体在哪里，然后才能加密，其实都一样不论是加密url里面的query内容还是加密body体里面的都一样。
- 对数据哪里进行加密和解密
    - 目前对数据返回的data进行加解密。
- 加密和解密使用效率分析
    - 待完善


#### 4.6 HTTPS证书校验
- 背景说明
    - 如何在 Android 端下和服务端实现自制证书的连接？
- App如何证书校验。目前okHttp已经提供了Api来处理证书校验的功能
    ``` java
    //不建议使用这个，方法过时，使用反射机制寻找X509信任管理类，消耗了不必要的性能。
    okHttpBuilder.sslSocketFactory(sslSocketFactory);
    //会传入信任管理类数组中的第一条
    okHttpBuilder.sslSocketFactory(sslSocketFactory,x509TrustManager);
    okHttpBuilder.hostnameVerifier(hostnameVerifier);
    ```
- 校验过程：
    - 实际上，在 HTTPS 握手开始后，服务器会把整个证书链发送到客户端，给客户端做校验。校验的过程是要找到这样一条证书链，链中每个相邻节点，上级的公钥可以校验通过下级的证书，链的根节点是设备信任的锚点或者根节点可以被锚点校验。
    - 那么锚点对于浏览器而言就是内置的根证书啦（注：根节点并不一定是根证书）。校验通过后，视情况校验客户端，以及确定加密套件和用非对称密钥来交换对称密钥。从而建立了一条安全的信道。




### 05.方案基础设计
#### 5.1 整体架构图


#### 5.2 UML设计图


#### 5.3 关键流程图


#### 5.4 接口设计图


#### 5.5 模块间依赖关系


### 06.其他设计说明
#### 6.1 性能设计


#### 6.2 稳定性设计


#### 6.3 灰度设计


#### 6.4 降级设计


#### 6.5 异常设计
- 常见的网络异常有哪些
- 如何加强网络数据安全性
    - 
- 如何避免App被抓包
    - 设置禁用代理




### 07.其他说明介绍
#### 7.1 参考链接
- 安卓OKHTTP库添加HTTPS证书验证：http://events.jianshu.io/p/bf6d5432fa55









